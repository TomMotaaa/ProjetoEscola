{"ast":null,"code":"var _jsxFileName = \"/Users/u21426/escola/src/components/CrudCurso/CrudCurso.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport './CrudCurso.css';\nimport { useState, useEffect } from \"react\";\nimport Main from \"../template/Main\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst urlAPI = 'http://localhost:5014/api/curso';\nconst title = 'Cadastro de Cursos';\nconst initialState = {\n  curso: {\n    id: 0,\n    codCurso: 0,\n    nomeCurso: '',\n    periodo: ''\n  },\n  lista: []\n};\nexport default function Curso() {\n  _s();\n\n  const [curso, setCurso] = useState(initialState.curso);\n  const [lista, setLista] = useState(initialState.lista);\n\n  const dadosAPI = async () => {\n    await axios(urlAPI).then(resp => resp.data).catch(err => err);\n  };\n\n  useEffect(() => {\n    dadosAPI().then(setLista);\n  }, [curso]);\n\n  const limpar = () => {\n    setCurso({\n      curso: initialState.curso\n    });\n  };\n\n  const salvar = () => {\n    curso.codCurso = Number(curso.codCurso);\n    const metodo = curso.id ? 'put' : 'post';\n    const url = curso.id ? `${urlAPI}/${curso.id}` : urlAPI;\n    axios[metodo](url, curso).then(resp => {\n      const lista = getListaAtualizada(resp.data);\n      setCurso({\n        curso: initialState.curso,\n        lista\n      });\n    });\n  };\n\n  const getListaAtualizada = function (curso) {\n    let add = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n    const listaAtualizada = lista.filter(a => a.id !== curso.id);\n    if (add) listaAtualizada.unshift(curso);\n    return listaAtualizada;\n  };\n\n  const atualizaCampo = evento => {\n    const {\n      nome,\n      valor\n    } = evento.target;\n    setCurso({ ...curso,\n      [nome]: valor\n    });\n  };\n\n  const carregar = curso => {\n    setCurso(curso);\n  };\n\n  const remover = curso => {\n    const url = urlAPI + \"/\" + curso.id;\n\n    if (window.confirm(\"Confirma remoção do aluno: \" + curso.nomeCurso)) {\n      console.log(\"entrou no confirme da tela\");\n      axios['delete'](url, curso).then(resp => {\n        const lista = getListaAtualizada(curso, false);\n        setCurso({\n          curso: initialState.curso,\n          lista\n        });\n      });\n    }\n\n    const renderTable = () => {\n      return /*#__PURE__*/_jsxDEV(Main, {\n        title: title,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"inclui-container\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \" C\\xF3digo do Curso: \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            id: \"ra\",\n            placeholder: \"Codigo\",\n            className: \"form-input\",\n            name: \"codCurso\",\n            value: curso.codCurso,\n            onChange: e => atualizaCampo(e)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: \" Curso: \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            id: \"nome\",\n            placeholder: \"Curso\",\n            className: \"form-input\",\n            name: \"nomeCurso\",\n            value: curso.nomeCurso,\n            onChange: e => atualizaCampo(e)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: \" Per\\xEDodo: \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            id: \"codCurso\",\n            placeholder: \"Periodo\",\n            className: \"form-input\",\n            name: \"periodo\",\n            value: curso.periodo,\n            onChange: e => atualizaCampo(e)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btnSalvar\",\n            onClick: salvar,\n            children: \"Salvar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btnCancelar\" //onClick={e => this.limpar(e)} \n            ,\n            children: \"Cancelar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 13\n      }, this);\n    };\n  };\n}\n\n_s(Curso, \"ZOr7Kokcjht3IgayDTH0zQD/F5E=\");\n\n_c = Curso;\n\nvar _c;\n\n$RefreshReg$(_c, \"Curso\");","map":{"version":3,"names":["React","useState","useEffect","Main","axios","urlAPI","title","initialState","curso","id","codCurso","nomeCurso","periodo","lista","Curso","setCurso","setLista","dadosAPI","then","resp","data","catch","err","limpar","salvar","Number","metodo","url","getListaAtualizada","add","listaAtualizada","filter","a","unshift","atualizaCampo","evento","nome","valor","target","carregar","remover","window","confirm","console","log","renderTable","e"],"sources":["/Users/u21426/escola/src/components/CrudCurso/CrudCurso.js"],"sourcesContent":["import React from \"react\";\nimport './CrudCurso.css'\nimport { useState, useEffect } from \"react\";\nimport Main from \"../template/Main\";\nimport axios from \"axios\";\n\nconst urlAPI = 'http://localhost:5014/api/curso'\nconst title = 'Cadastro de Cursos'\nconst initialState = {\n    curso: {id: 0, codCurso: 0, nomeCurso: '', periodo: ''},\n    lista: []\n}\n\nexport default function Curso() {\n    const [curso, setCurso] = useState(initialState.curso)\n    const [lista, setLista] = useState(initialState.lista)\n\n    const dadosAPI = async () => {\n        await axios(urlAPI).then((resp) => resp.data).catch((err) => err)\n    }\n\n    useEffect(() => {\n        dadosAPI()\n            .then(setLista)\n    }, [curso])\n\n    const limpar = () => {\n        setCurso({ curso: initialState.curso })\n    }\n\n    const salvar = () => {\n        curso.codCurso = Number(curso.codCurso)\n        const metodo = curso.id ? 'put' : 'post'\n        const url = curso.id ? `${urlAPI}/${curso.id}` : urlAPI\n\n        axios[metodo] (url, curso)\n            .then((resp) => {\n                const lista = getListaAtualizada(resp.data)\n                setCurso({ curso: initialState.curso, lista})\n            })\n    }\n\n    const getListaAtualizada = (curso, add = true) => {\n        const listaAtualizada = lista.filter(a => a.id !== curso.id);\n        if(add) listaAtualizada.unshift(curso);\n        return listaAtualizada;\n    }\n\n    const atualizaCampo = (evento) => {\n        const {nome, valor} = evento.target\n        setCurso({\n            ...curso,\n            [nome] : valor\n        })\n    }\n\n    const carregar = (curso) => {\n        setCurso(curso)\n    }\n\n    const remover = (curso) => {\n        const url = urlAPI + \"/\" + curso.id;\n        if (window.confirm(\"Confirma remoção do aluno: \" + curso.nomeCurso)) {\n            console.log(\"entrou no confirme da tela\")\n        \n        axios['delete'] (url, curso)\n            .then((resp) => {\n                const lista = getListaAtualizada(curso, false)\n                setCurso({ curso: initialState.curso, lista })\n            })\n    }\n\n    const renderTable = () => {\n        return (\n            <Main title={title}>\n                <div className=\"inclui-container\">\n                    <label> Código do Curso: </label>\n                    <input\n                        type=\"number\"\n                        id=\"ra\"\n                        placeholder=\"Codigo\"\n                        className=\"form-input\"\n                        name=\"codCurso\"\n    \n                    value={curso.codCurso}\n                    onChange={(e) => atualizaCampo(e)}\n                    />\n                    <label> Curso: </label>\n                    <input\n                        type=\"text\"\n                        id=\"nome\"\n                        placeholder=\"Curso\"\n                        className=\"form-input\"\n                        name=\"nomeCurso\"\n    \n                    value={curso.nomeCurso}\n                    onChange={(e) => atualizaCampo(e)}\n                    />\n                    <label> Período: </label>\n                    <input\n                        type=\"text\"\n                        id=\"codCurso\"\n                        placeholder=\"Periodo\"\n                        className=\"form-input\"\n                        name=\"periodo\"\n    \n                    value={curso.periodo}\n                    onChange={(e) => atualizaCampo(e)}\n                    />\n                    <button className=\"btnSalvar\"\n                    onClick={salvar}\n                    >\n                        Salvar\n                    </button>\n                    <button className=\"btnCancelar\"\n                    //onClick={e => this.limpar(e)} \n                    >\n                        Cancelar\n                    </button>\n                </div>\n            </Main>\n        )    \n    }\n}}"],"mappings":"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"},"metadata":{},"sourceType":"module"}