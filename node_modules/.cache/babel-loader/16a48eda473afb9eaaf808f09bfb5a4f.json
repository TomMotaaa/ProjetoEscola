{"ast":null,"code":"var _jsxFileName = \"/Users/u21426/escola/src/components/Carometro/carometro.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport './carometro.css';\nimport { useState, useEffect } from \"react\";\nimport Main from \"../template/Main\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst title = 'Carômetro';\nconst urlAPIAlunos = 'http://localhost:5014/api/aluno';\nconst urlAPICursos = 'http://localhost:5014/api/curso';\nconst infos = {\n  cursos: {\n    id: 0,\n    codCurso: '',\n    nomeCurso: '',\n    periodo: ''\n  },\n  listaAlunos: [],\n  listaCursos: []\n};\n\nconst geradorDeLetras = () => {\n  return Math.random().toString(36).substring(2, 9);\n};\n\nexport default function Carometro() {\n  _s();\n\n  const [listaAlunos, setListaAlunos] = useState(infos.listaAlunos);\n  const [listaCursos, setListaCursos] = useState(infos.listaCursos);\n  const [cursos, setCursos] = useState(infos.cursos);\n  useEffect(() => {\n    axios(urlAPICursos).then(resp => setListaCursos(resp.data));\n  }, []);\n\n  const getAlunosCadastrados = async codCurso => {\n    return await axios(urlAPIAlunos).then(resp => {\n      const listaAlunos = resp.data;\n      return listaAlunos.filter(alunos => alunos.codCurso === codCurso);\n    });\n  };\n\n  const atualizarAlunos = async evento => {\n    const codCurso = evento.target.value;\n\n    if (evento.target.value === '') {\n      setListaAlunos(infos.listaAlunos);\n      setCursos(infos.cursos);\n      return;\n    }\n\n    cursos.codCurso = Number(codCurso);\n    const listaAlunos = await getAlunosCadastrados(cursos.codCurso);\n    if (!Array.isArray(listaAlunos)) return;\n    setListaAlunos(listaAlunos);\n    setCursos(cursos);\n  };\n\n  return /*#__PURE__*/_jsxDEV(Main, {\n    title: title,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"select-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: \" Cursos: \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        className: \"selectCarometro\",\n        value: cursos.codCurso,\n        onChange: e => {\n          atualizarAlunos(e);\n        },\n        required: true,\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          disabled: true,\n          value: \"\",\n          children: \"Qual curso deseja?\"\n        }, '', false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 21\n        }, this), listaCursos.map(cursos => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: cursos.codCurso,\n          children: [cursos.codCurso, \" - \", cursos.nomeCurso, \" : \", cursos.periodo]\n        }, cursos.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 29\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }, this), \"const renderCards\", /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card-row\",\n      children: Array.isArray(listaAlunos) && listaAlunos.length > 0 ? listaAlunos.map(aluno => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card draw-border\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          className: \"card_imagem\",\n          src: `https://avatars.dicebear.com/api/big-smile/${geradorDeLetras()}.svg`,\n          alt: `Avatar` + aluno.nome\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"card_titulo\",\n          children: aluno.nome\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"card_descricao\",\n          children: [\" Curso: \", aluno.codCurso, \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 25\n        }, this)]\n      }, aluno.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 21\n      }, this)) : null\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Carometro, \"BOKy7vKqstDX8Hw3i2jRjew/HNM=\");\n\n_c = Carometro;\n\nvar _c;\n\n$RefreshReg$(_c, \"Carometro\");","map":{"version":3,"names":["React","useState","useEffect","Main","axios","title","urlAPIAlunos","urlAPICursos","infos","cursos","id","codCurso","nomeCurso","periodo","listaAlunos","listaCursos","geradorDeLetras","Math","random","toString","substring","Carometro","setListaAlunos","setListaCursos","setCursos","then","resp","data","getAlunosCadastrados","filter","alunos","atualizarAlunos","evento","target","value","Number","Array","isArray","e","map","length","aluno","nome"],"sources":["/Users/u21426/escola/src/components/Carometro/carometro.js"],"sourcesContent":["import React from \"react\";\nimport './carometro.css'\nimport { useState, useEffect } from \"react\";\nimport Main from \"../template/Main\";\nimport axios from \"axios\";\n\nconst title = 'Carômetro'\nconst urlAPIAlunos = 'http://localhost:5014/api/aluno';\nconst urlAPICursos = 'http://localhost:5014/api/curso';\nconst infos = {\n    cursos: { id: 0, codCurso: '', nomeCurso: '', periodo: ''},\n    listaAlunos: [],\n    listaCursos: []\n}\n\nconst geradorDeLetras = () => {\n    return Math.random().toString(36).substring(2, 9);\n}\n\nexport default function Carometro() {\n\n    const [listaAlunos, setListaAlunos] = useState(infos.listaAlunos)\n    const [listaCursos, setListaCursos] = useState(infos.listaCursos)\n    const [cursos, setCursos] = useState(infos.cursos)\n\n    useEffect( () => {\n        axios(urlAPICursos)\n            .then((resp) => setListaCursos(resp.data))\n    }, []);\n\n    const getAlunosCadastrados = async (codCurso) => {\n        return await axios(urlAPIAlunos)\n                        .then((resp) => {\n                            const listaAlunos = resp.data\n                            return listaAlunos.filter(\n                                (alunos) => alunos.codCurso === codCurso\n                            )\n                        })\n    }\n\n    const atualizarAlunos = async (evento) => {\n        const codCurso = evento.target.value;\n        if (evento.target.value === '') {\n            setListaAlunos(infos.listaAlunos)\n            setCursos(infos.cursos)\n            return\n        }\n        cursos.codCurso = Number(codCurso)\n        const listaAlunos = await getAlunosCadastrados(cursos.codCurso)\n        if (!Array.isArray(listaAlunos)) return;\n\n        setListaAlunos(listaAlunos)\n        setCursos(cursos)\n    }\n\n    return (\n        <Main title={title}>\n            <div className=\"select-container\">\n                <label> Cursos: </label>\n                <select className=\"selectCarometro\" value={cursos.codCurso} onChange={e => {atualizarAlunos(e)}} required>\n                    <option disabled={true} key={''} value={\"\"}>\n                        Qual curso deseja?\n                    </option>\n                    {listaCursos.map ((cursos) => \n                            <option key={cursos.id} value={cursos.codCurso}>\n                                {cursos.codCurso} - {cursos.nomeCurso} : {cursos.periodo}\n                            </option>\n                    )}\n                </select>\n            </div>\n\n        const renderCards\n            <div className=\"card-row\">\n                {Array.isArray(listaAlunos) && listaAlunos.length > 0 ? listaAlunos.map((aluno) => (\n                    <div key={aluno.id} className=\"card draw-border\">\n                        <img className=\"card_imagem\" src={`https://avatars.dicebear.com/api/big-smile/${geradorDeLetras()}.svg`} alt={`Avatar` + aluno.nome}></img>\n                        <span className=\"card_titulo\">{aluno.nome}</span>\n                        <span className=\"card_descricao\"> Curso: {aluno.codCurso} </span>\n                    </div>\n                )) : null }\n            </div>\n        </Main>\n    )\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}