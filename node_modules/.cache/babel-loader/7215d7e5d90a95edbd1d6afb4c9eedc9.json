{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport React from \"react\";\nimport './CrudCurso.css';\nimport { useState, useEffect } from \"react\";\nimport Main from \"../template/Main\";\nimport axios from \"axios\";\nconst urlAPI = 'http://localhost:5014/api/curso';\nconst title = 'Cadastro de Cursos';\nconst initialState = {\n  curso: {\n    id: 0,\n    codCurso: 0,\n    nomeCurso: '',\n    periodo: ''\n  },\n  lista: []\n};\nexport default function Curso() {\n  _s();\n\n  const [curso, setCurso] = useState(initialState.curso);\n  const [lista, setLista] = useState(initialState.lista);\n\n  const dadosAPI = async () => {\n    await axios(urlAPI).then(resp => resp.data).catch(err => err);\n  };\n\n  function limpar() {\n    setCurso({\n      curso: initialState.curso\n    });\n  }\n\n  function salvar() {\n    curso.codCurso = Number(curso.codCurso);\n    const metodo = curso.id ? 'put' : 'post';\n    const url = curso.id ? `${urlAPI}/${curso.id}` : urlAPI;\n    axios[metodo](url, curso).then(resp => {\n      const lista = getListaAtualizada(resp.data);\n      setCurso({\n        curso: initialState.curso,\n        lista\n      });\n    });\n  }\n\n  function getListaAtualizada(curso) {\n    let add = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n    const listaAtualizada = lista.filter(a => a.id !== curso.id);\n    if (add) listaAtualizada.unshift(curso);\n    return listaAtualizada;\n  }\n\n  function atualizaCampo(evento) {\n    const {\n      nome,\n      valor\n    } = evento.target;\n    setCurso({});\n  }\n}\n\n_s(Curso, \"xdUKyeWwYYsMmWBsicStWN3U9XA=\");\n\n_c = Curso;\n\nvar _c;\n\n$RefreshReg$(_c, \"Curso\");","map":{"version":3,"names":["React","useState","useEffect","Main","axios","urlAPI","title","initialState","curso","id","codCurso","nomeCurso","periodo","lista","Curso","setCurso","setLista","dadosAPI","then","resp","data","catch","err","limpar","salvar","Number","metodo","url","getListaAtualizada","add","listaAtualizada","filter","a","unshift","atualizaCampo","evento","nome","valor","target"],"sources":["/Users/u21426/escola/src/components/CrudCurso/CrudCurso.js"],"sourcesContent":["import React from \"react\";\nimport './CrudCurso.css'\nimport { useState, useEffect } from \"react\";\nimport Main from \"../template/Main\";\nimport axios from \"axios\";\n\nconst urlAPI = 'http://localhost:5014/api/curso'\nconst title = 'Cadastro de Cursos'\nconst initialState = {\n    curso: {id: 0, codCurso: 0, nomeCurso: '', periodo: ''},\n    lista: []\n}\n\nexport default function Curso() {\n    const [curso, setCurso] = useState(initialState.curso)\n    const [lista, setLista] = useState(initialState.lista)\n\n    const dadosAPI = async () => {\n        await axios(urlAPI).then((resp) => resp.data).catch((err) => err)\n    }\n\n    function limpar() {\n        setCurso({ curso: initialState.curso })\n    }\n\n    function salvar() {\n        curso.codCurso = Number(curso.codCurso)\n        const metodo = curso.id ? 'put' : 'post'\n        const url = curso.id ? `${urlAPI}/${curso.id}` : urlAPI\n\n        axios[metodo] (url, curso)\n            .then((resp) => {\n                const lista = getListaAtualizada(resp.data)\n                setCurso({ curso: initialState.curso, lista})\n            })\n    }\n\n    function getListaAtualizada(curso, add = true) {\n        const listaAtualizada = lista.filter(a => a.id !== curso.id);\n        if(add) listaAtualizada.unshift(curso);\n        return listaAtualizada;\n    }\n\n    function atualizaCampo(evento) {\n        const {nome, valor} = evento.target\n        setCurso({\n            \n        })\n    }\n}"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAO,iBAAP;AACA,SAASC,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AACA,OAAOC,IAAP,MAAiB,kBAAjB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,MAAMC,MAAM,GAAG,iCAAf;AACA,MAAMC,KAAK,GAAG,oBAAd;AACA,MAAMC,YAAY,GAAG;EACjBC,KAAK,EAAE;IAACC,EAAE,EAAE,CAAL;IAAQC,QAAQ,EAAE,CAAlB;IAAqBC,SAAS,EAAE,EAAhC;IAAoCC,OAAO,EAAE;EAA7C,CADU;EAEjBC,KAAK,EAAE;AAFU,CAArB;AAKA,eAAe,SAASC,KAAT,GAAiB;EAAA;;EAC5B,MAAM,CAACN,KAAD,EAAQO,QAAR,IAAoBd,QAAQ,CAACM,YAAY,CAACC,KAAd,CAAlC;EACA,MAAM,CAACK,KAAD,EAAQG,QAAR,IAAoBf,QAAQ,CAACM,YAAY,CAACM,KAAd,CAAlC;;EAEA,MAAMI,QAAQ,GAAG,YAAY;IACzB,MAAMb,KAAK,CAACC,MAAD,CAAL,CAAca,IAAd,CAAoBC,IAAD,IAAUA,IAAI,CAACC,IAAlC,EAAwCC,KAAxC,CAA+CC,GAAD,IAASA,GAAvD,CAAN;EACH,CAFD;;EAIA,SAASC,MAAT,GAAkB;IACdR,QAAQ,CAAC;MAAEP,KAAK,EAAED,YAAY,CAACC;IAAtB,CAAD,CAAR;EACH;;EAED,SAASgB,MAAT,GAAkB;IACdhB,KAAK,CAACE,QAAN,GAAiBe,MAAM,CAACjB,KAAK,CAACE,QAAP,CAAvB;IACA,MAAMgB,MAAM,GAAGlB,KAAK,CAACC,EAAN,GAAW,KAAX,GAAmB,MAAlC;IACA,MAAMkB,GAAG,GAAGnB,KAAK,CAACC,EAAN,GAAY,GAAEJ,MAAO,IAAGG,KAAK,CAACC,EAAG,EAAjC,GAAqCJ,MAAjD;IAEAD,KAAK,CAACsB,MAAD,CAAL,CAAeC,GAAf,EAAoBnB,KAApB,EACKU,IADL,CACWC,IAAD,IAAU;MACZ,MAAMN,KAAK,GAAGe,kBAAkB,CAACT,IAAI,CAACC,IAAN,CAAhC;MACAL,QAAQ,CAAC;QAAEP,KAAK,EAAED,YAAY,CAACC,KAAtB;QAA6BK;MAA7B,CAAD,CAAR;IACH,CAJL;EAKH;;EAED,SAASe,kBAAT,CAA4BpB,KAA5B,EAA+C;IAAA,IAAZqB,GAAY,uEAAN,IAAM;IAC3C,MAAMC,eAAe,GAAGjB,KAAK,CAACkB,MAAN,CAAaC,CAAC,IAAIA,CAAC,CAACvB,EAAF,KAASD,KAAK,CAACC,EAAjC,CAAxB;IACA,IAAGoB,GAAH,EAAQC,eAAe,CAACG,OAAhB,CAAwBzB,KAAxB;IACR,OAAOsB,eAAP;EACH;;EAED,SAASI,aAAT,CAAuBC,MAAvB,EAA+B;IAC3B,MAAM;MAACC,IAAD;MAAOC;IAAP,IAAgBF,MAAM,CAACG,MAA7B;IACAvB,QAAQ,CAAC,EAAD,CAAR;EAGH;AACJ;;GApCuBD,K;;KAAAA,K"},"metadata":{},"sourceType":"module"}